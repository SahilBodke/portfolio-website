<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Me - Sahil's Portfolio</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        xintegrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

    <!-- Shared CSS -->
    <link rel="stylesheet" href="./stylesheet/style.css">
</head>

<body>

    <!-- Header (Shared across pages) -->
    <header>
        <nav class="navbar navbar-expand-lg fixed-top custom-nav">
            <div class="container">
                <a class="navbar-brand fs-4" href="index.html">Sahil Portfolio</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="index.html">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="about.html">About</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="projects.html">Projects</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="contact.html">Contact Me</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <main class="container" style="padding-top: 100px;">
        <!-- Contact Section -->
        <section class="contact-section my-5">
            <div class="text-center">
                <h1 class="display-4">Get In Touch</h1>
                <p class="lead text-body-secondary">I'm currently open to new opportunities. Feel free to send a
                    message!</p>
            </div>

            <div class="row mt-5 justify-content-center">
                <div class="col-lg-8">
                    <form id="contactForm" class="custom-form" onsubmit="submitForm(event)">
                        <div class="mb-4">
                            <label for="name" class="form-label">Your Name</label>
                            <input type="text" class="form-control" id="name" required>
                        </div>
                        <div class="mb-4">
                            <label for="email" class="form-label">Your Email</label>
                            <input type="email" class="form-control" id="email" required>
                        </div>
                        <div class="mb-4">
                            <label for="phone" class="form-label">Phone Number</label>
                            <input type="tel" class="form-control" id="phone">
                        </div>
                        <div class="mb-4">
                            <label for="message" class="form-label">Message</label>
                            <textarea class="form-control" id="message" rows="5" required></textarea>
                        </div>
                        <div class="text-center">
                            <button type="submit" class="btn btn-primary btn-lg">
                                <span class="button-text">Send Message</span>
                                <div class="spinner-border spinner-border-sm d-none" role="status">
                                    <span class="visually-hidden">Loading...</span>
                                </div>
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer (Same as index.html) -->
    <footer class="footer-bg py-5 mt-5">
        <div class="container">
            <div class="row text-center text-md-start">
                <div class="col-md-4 mb-4">
                    <h3>Sahil's Developer Portfolio</h3>
                </div>
                <div class="col-md-2 col-6 mb-4">
                    <h5>Links</h5>
                    <ul class="list-unstyled">
                        <li><a href="index.html" class="text-white text-decoration-none">Home</a></li>
                        <li><a href="about.html" class="text-white text-decoration-none">About</a></li>
                        <li><a href="projects.html" class="text-white text-decoration-none">Projects</a></li>
                        <li><a href="contact.html" class="text-white text-decoration-none">Contact</a></li>
                    </ul>
                </div>
                <div class="col-md-3 col-6 mb-4">
                    <h5>Socials</h5>
                    <ul class="list-unstyled">
                        <li><a href="https://github.com/SahilBodke" target="_blank"
                                class="text-white text-decoration-none">GitHub</a></li>
                        <li><a href="https://www.linkedin.com/in/sahil-bodke2000/" target="_blank"
                                class="text-white text-decoration-none">LinkedIn</a></li>
                        <li><a href="#" class="text-white text-decoration-none">Twitter</a></li>
                    </ul>
                </div>
                <div class="col-md-3 col-12 mb-4">
                    <h5>Contact</h5>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-white text-decoration-none">sahil2000bodke@gmail.com</a></li>
                    </ul>
                </div>
            </div>
            <div class="text-center text-body-secondary mt-4">
                Copyright &copy; www.sahilportfolio.com | All rights reserved
            </div>
        </div>
    </footer>


    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        xintegrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>

    <script>
    async function submitForm(e) {
        e.preventDefault();

        const button = e.target.querySelector('button');
        const buttonText = button.querySelector('.button-text');
        const spinner = button.querySelector('.spinner-border');

        // Show loading state
        buttonText.classList.add('d-none');
        spinner.classList.remove('d-none');
        button.disabled = true;

        try {
            const formId = '1FAIpQLSebqbTM7OAs6WOO1PFfJsJAnxYZRZFp2gJiaJEaB5mXKhlFPw';

            // Create form
            const form = document.createElement('form');
            form.method = 'POST';
            form.action = `https://docs.google.com/forms/d/e/${formId}/formResponse`;
            form.style.display = 'none';

            // Add form fields
            const formFields = [
                { name: 'entry.2005620554', value: document.getElementById('name').value },
                { name: 'entry.1045781291', value: document.getElementById('email').value },
                { name: 'entry.1166974658', value: document.getElementById('phone').value },
                { name: 'entry.839337160', value: document.getElementById('message').value }
            ];

            formFields.forEach(field => {
                const input = document.createElement('input');
                input.type = 'hidden';
                input.name = field.name;
                input.value = field.value;
                form.appendChild(input);
            });

            // Submit form in hidden iframe
            const iframe = document.createElement('iframe');
            iframe.name = 'hidden-iframe';
            iframe.style.display = 'none';
            document.body.appendChild(iframe);

            form.target = 'hidden-iframe';
            document.body.appendChild(form);
            form.submit();

            // Clear form and show success
            e.target.reset();
            showAlert('Message sent successfully! Thank you for reaching out.', 'success');

            // Clean up
            setTimeout(() => {
                document.body.removeChild(form);
                document.body.removeChild(iframe);
            }, 1000);

        } catch (error) {
            console.error('Error:', error);
            showAlert('Failed to send message. Please try again.', 'danger');
        } finally {
            // Reset button state
            buttonText.classList.remove('d-none');
            spinner.classList.add('d-none'); // Changed from remove() to add()
            button.disabled = false;
        }
    }

    function showAlert(message, type) {
        const alertDiv = document.createElement('div');
        alertDiv.className = `alert alert-${type} alert-dismissible fade show mt-3`;
        alertDiv.innerHTML = `
            ${message}
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        `;
        document.getElementById('contactForm').insertAdjacentElement('beforebegin', alertDiv);

        setTimeout(() => alertDiv.remove(), 5000);
    }
</script>
</body>

</html>